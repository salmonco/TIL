## 1. 활동 내용
- 맵 API 발급 후 코드 작성
- 지도상의 마커 표시
- 페이지 권한 처리

## 2. 이슈
카카오맵 API 가이드에서 따라할 수 있게 잘 설명되어 있어서 지도에 마커를 생성하기까지 별다른 이슈는 없었다.

다만 페이지 권한 처리 작업을 하는 중 함수의 네이밍 규칙에 관련한 사소한 이슈가 있었다.

**상황**  
리액트에서 페이지 권한 처리를 위한 함수를 만들고 싶은데, 보통 일반적인 함수는 컴포넌트 혹은 hook 내에 선언되어 사용된다.  
그런데 나의 경우 함수를 하나의 파일로 분리해서 import 해서 사용하고 싶었다. 그렇게 사용하는 게 더 깔끔하다고 생각했다.

한편, 함수 안에서 hook을 사용해야 했는데, hook은 hook 내에서 혹은 컴포넌트 내에서 사용해야 하는 규칙이 있다.  
여기서 hook이란 함수의 이름이 use로 시작하는 것이고, 컴포넌트란 함수 이름의 첫 글자가 대문자로 시작하는 것이었다.  
내가 페이지 권한 처리를 위해 만든 함수는 hook도 아니고 컴포넌트도 아니므로, 일반적인 함수의 네이밍 규칙에 따라 첫 글자가 소문자여야 했다.

그런데 함수 안에서 hook을 사용하기 위해 어쩔 수 없이 대문자로 할 수밖에 없었다.  
이 때문에 실제로는 컴포넌트가 아닌데 이름만 봤을 때 컴포넌트의 역할을 하는 함수가 되어버린 것이다.  
어떻게보면 정말 사소한 이슈지만, 이를 통해 내가 리액트의 함수, hook, 컴포넌트의 네이밍 규칙에 대한 인지와 활용이 부족했다고 느꼈다.  
리액트에 대해서 더 잘 이해할 필요가 있겠다고 생각하게 되었다.

## 3. 새로 배운 내용
**1. 리스트 형식으로 화면을 구성하는 경우, 배열의 map 함수를 잘 활용할 것**  
처음에는 리스트로 보여질 것이 있으면 같은 틀에 내용만 살짝 다르게 하드코딩했었다.  
그런데 이제는 코드를 효율적으로 짤 수 있는 방법을 생각해보게 되었다.  
이에 다르게 뿌려질 내용들을 한 배열에 담고 이 배열을 map 함수를 사용해서 리스트를 구성함으로써 코드의 가독성을 높이고 코드를 재활용할 수 있게 되었다.

**2. 페이지 권한 처리**  
비회원이 회원 페이지에 접근하거나, 손님 회원이 사장님 페이지에 접근하는 등의 상황에서 권한에 따라 접근을 제한하는 작업을 해야 했다.  
이와 관련해서, react-router를 통해 페이지화 시킨 컴포넌트들의 권한을 어떻게 부여할 수 있을까에 대한 고민이 있었다.  
다른 사람들은 어떻게 했나 여러 레퍼런스를 찾아보며, 여러 방법들 중 target auth와 컴포넌트를 인자로 받는 권한 처리 함수를 만들었다.  
target auth가 로컬스토리지에 저장된 auth 값과 일치하는 경우 접근이 허용되며, 일치하지 않는 경우 접근이 제한된다.  
이때 사용자의 auth가 비회원인 경우는 로그인 페이지로 리다이렉트하고, 이외의 경우에 대해선 따로 만들어둔 404 Not Found 페이지가 렌더링될 수 있도록 했다.

## 4. 회고
이번 주차에서는 외부 API를 프로젝트에 적용하는 법을 배웠다. 카카오맵의 경우 가이드가 엄청 잘 나와있어서 어렵지 않게 적용할 수 있었던 것 같다.  
다음에도 API를 적용할 일이 있으면 나와있는 레퍼런스와 가이드를 잘 보고 응용하면 될 것 같다.

기능 구현도 중요하지만 기능에서 발생한 버그들을 잡아내는 데 적지 않은 시간을 투자해야 할 필요성을 느꼈다.  
때문에 이번 시간에 페이지 권한 처리도 해주었고, 이외에 프론트에서 할 수 있는 유효성 검사와 보안적인 측면을 많이 신경써야겠다고 생각했다.

## 5. 향후 계획
- STOMP 개념 학습
- WebSocket(STOMP)을 이용한 메세지 송수신 구현
